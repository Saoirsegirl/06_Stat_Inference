---
title: "An Exploration of Tooth Growth Data"
author: "barb dornseif - saoirsegirl"
date: "February, 2015"
output:
  pdf_document:
    keep_tex: yes
    number_sections: yes
---
# Loading and Summarization of Data Set: ToothGrowth 
Let's load our data and look at a summary and the structure of is contents.  
```{r summary}
data(ToothGrowth); str(ToothGrowth); summary(ToothGrowth)
```  

We can see there are 60 observations of 3 columns, that the first and third columns are numerics - and the second column is a factor with two levels. The summary further tells us the quantile breakdown of each of the numeric columns.   If we lookup the short documentation on the dataset [link](https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/ToothGrowth.html) we see the following description "The response is the length of odontoblasts (teeth) in each of 10 guinea pigs at each of three dose levels of Vitamin C (0.5, 1, and 2 mg) with each of two delivery methods (orange juice or ascorbic acid)."  

So we know that we have a growth in the length of of teeth for six(6) groupings of 10 guinea pigs where each group is given one of three(3) dosage amounts via one or the other of two(2) delivery methods (column = "supp"). Let's take a look at how length groups by dose and delivery separately.  

```{r plotting1, cache=TRUE, echo = FALSE, eval=TRUE, message=FALSE, fig.height=3.5, fig.width=3}
library(ggplot2)
ggplot(ToothGrowth, aes(len, fill = supp)) + geom_histogram(alpha = 0.5)
```
```{r plotting2, cache=TRUE, echo = FALSE, eval=TRUE, message=FALSE,  fig.height=3.5, fig.width=4}
ggplot(ToothGrowth, aes(len, fill = as.factor(dose))) + geom_histogram(alpha = 0.5)
```

We can see by the clustering by color, that there are distinct distributions of lengths by dose (when used as a factor variable) and less so by delivery. And although we see there is some overlap between each grouping, it is pretty safe to say that the greater the dose, the greater the efficacy. Our first hypothesis is that the overlaps may suggest that we are not sure how or if the delivery method impacts this simple observation. So we will test each dosage against the two delivery methods using a standard t-Test to detirmine if the variability is intrinsic to the dosage level, or is impacted by the delivery method.  

Because we see that the spread of each density is different as well, we will need to assume that the variance for each group varies, even though the number of observations in each sample is the same; this will impact the results generated by the t-Test.  


# Using Means and Confidence Intervals to Compare Growth   by Delivery and Dosage. 

So let's start by isolating the dosage (2.0 mg) that appears to give the best growth results, and see if the delivery method shows any distinction in efficacy. The groups are sorted alphabetically, so OJ will take the position of having the larger mean with which to test VC against.  Let's see if this is true for a dosage of 2.0 mg.
```{r confidenceOfDose2, cache=TRUE, echo=FALSE}
TGs2 <- subset(ToothGrowth, dose %in% 2)
TGs2 <- t.test(len~supp, paired = FALSE, var.equal=FALSE, data=TGs2) # grab the output of the function
TGs2c <- c(as.vector(TGs2$conf[1]), as.vector(TGs2$conf[2]))
TGs2m <- c(as.vector(TGs2$estimate[1]), as.vector(TGs2$estimate[2]))
```  

``` {r table1, cache=TRUE, echo=FALSE, results="asis"}
library(xtable)
table1 <- rbind( TGs2m, TGs2c)
rownames(table1) <- c("Means of each Group", "Confidence of the Difference")
colnames(table1) <- c("OJ = Orange Juice", "VC = Asorbic Acid")
print(xtable(table1, format = "markdown", caption = "Means and Confidence Intervals for Dosage 2.0 mg"),comment=FALSE)
```
Using the t-test to derive the Means of two groups of equal size, and the Confidence Interval of the difference between those Means when both receive the same dosage of 2.0 mg. we see that there is little distinction between Mean tooth length when receiving  orange juice (OJ) versus Asorbic Acid (VC) as the method of delivery. Further, the Confidence Interval clearly straddles zero, so we must conclude that at this dosage, method of delivery is not a relavant factor the growth outcome.  

But given the observed histograms we cannot conclude that this holds true for all dosages. So let's try the 0.5 mg dosage, which shows the tightest clustering in the histogram.  

```{r confidenceOfDose5, cache=TRUE, echo=FALSE}
TGs5 <- subset(ToothGrowth, dose %in% 0.5)
TGs5 <- t.test(len~supp, paired = FALSE, var.equal=FALSE, data=TGs5) # grab the output of the function
TGs5c <- c(as.vector(TGs5$conf[1]), as.vector(TGs5$conf[2]))
TGs5m <- c(as.vector(TGs5$estimate[1]), as.vector(TGs5$estimate[2]))
```  

``` {r table2, cache=TRUE, echo=FALSE, results="asis"}
library(xtable)
table2 <- rbind( TGs5m, TGs5c)
rownames(table2) <- c("Means of each Group", "Confidence of the Difference")
colnames(table2) <- c("OJ = Orange Juice", "VC = Asorbic Acid")
print(xtable(table2, format = "markdown", caption = "Means and Confidence Intervals for Dosage 0.5 mg"),comment=FALSE)
```
Here we see the different relationship. Althought the Mean itself is significantly lower than at the higher dosage, using OJ provides a significantly higher mean growth result (by `r TGs5m[1]-TGs5m[2]`) and the confidence interval is significantly above zero.  Here, we can conclude that delivery method does impact efficacy and that orange juice is the preferred method.  

Given such divergent outcomes, let's try our third dosage (1.0 mg) and see which camp it most resembles.  

```{r confidenceOfDose1, cache=TRUE, echo=FALSE}
TGs1 <- subset(ToothGrowth, dose %in% 1.0)
TGs1 <- t.test(len~supp, paired = FALSE, var.equal=FALSE, data=TGs1) # grab the output of the function
TGs1c <- c(as.vector(TGs1$conf[1]), as.vector(TGs1$conf[2]))
TGs1m <- c(as.vector(TGs1$estimate[1]), as.vector(TGs1$estimate[2]))
```  

``` {r table3, cache=TRUE, echo=FALSE, results="asis"}
library(xtable)
table3 <- rbind( TGs1m, TGs1c)
rownames(table3) <- c("Means of each Group", "Confidence of the Difference")
colnames(table3) <- c("OJ = Orange Juice", "VC = Asorbic Acid")
print(xtable(table3, format = "markdown", caption = "Means and Confidence Intervals for Dosage 1.0 mg"),comment=FALSE)
```  

Interestingly, the 1.0 mg dosage not only appears to provide a better mean efficacy than the 0.5 mg dosage it also shows a greater distiction in efficacy between the two delivery methods with OJ providing higher measured growth by `r TGs1m[1]-TGs1m[2]` and with a narrower Confidence Interval that the actual difference in the population Means will consistently bear this out. However the amount of growth for OJ delivered Vitamin C does not exceed either delivery method of the 2.0 dosage. So we are left with a conondrum given we have no data on the doage 1.5 mg which lies between these two groups.

# Conclusions  

Not knowing the cost of each of the dosages by delivery method, the impacts of 1.5 mg dosing nor the potential negative impacts of overdosing on the test subjects,  it would appear that using orange juice at the dosage of 1.0 mg is the most reliable method and dosage to acheive the greatest potential impact on tooth growth for the least amount of intervention/cost.  


# Appendix - Code Chunks Using echo = FALSE  

Echo=TRUE is replaced with eval=TRUE
```{r cc-plotting1&2, cache=TRUE, eval=FALSE}
library(ggplot2)
ggplot(ToothGrowth, aes(len, fill = supp)) + geom_histogram(alpha = 0.5)

ggplot(ToothGrowth, aes(len, fill = as.factor(dose))) + geom_histogram(alpha = 0.5)
```  

Manipulations of ToothGrowth data - repeated three times; once for each dosage grouping.
```{r cc-confidenceOfDose2, cache=TRUE, eval=FALSE}
TGs2 <- subset(ToothGrowth, dose %in% 2)
TGs2 <- t.test(len~supp, paired = FALSE, var.equal=FALSE, data=TGs2) # grab the output of the function
TGs2c <- c(as.vector(TGs2$conf[1]), as.vector(TGs2$conf[2]))
TGs2m <- c(as.vector(TGs2$estimate[1]), as.vector(TGs2$estimate[2]))
```  


``` {r cc-table1, cache=TRUE, eval=FALSE, results="asis"}
library(xtable)
table1 <- rbind( TGs2m, TGs2c)
rownames(table1) <- c("Means of each Group", "Confidence of the Difference")
colnames(table1) <- c("OJ = Orange Juice", "VC = Asorbic Acid")
print(xtable(table1, format = "markdown", caption = "Means and Confidence Intervals for Dosage 2.0 mg"),comment=FALSE)
```  